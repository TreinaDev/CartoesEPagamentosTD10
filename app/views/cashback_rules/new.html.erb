<section class='cashback-rules-form'>
  <% if @cashback_rule.errors[:cashback_percentage].include?('A regra de cashback já existe') %>
    <h4>Verifique o erro abaixo:</h4>
    <div id='errors-div'>
      <p>A regra de cashback já existe</p>
    </div>
  <% end %>

  <h1>Criar regra de cashback</h1>
  <%= form_with model: @cashback_rule, class: 'container' do |f| %>
  
    <div class='form-group'>
      <%= f.label :minimum_amount_points %>
      <%= f.number_field :minimum_amount_points, class: 'form-control' %>
      <% if @cashback_rule.errors[:minimum_amount_points].present? %>
        <span class='text-danger'><%= @cashback_rule.errors[:minimum_amount_points].join(', ') %></span>
      <% end %>
    </div>
    <div class='form-group'>
      <%= f.label :cashback_percentage %>
      <%= f.number_field :cashback_percentage, min: 0, max: 99.99, step: 0.01, class: 'form-control' %>
      <% unless @cashback_rule.errors[:cashback_percentage].include?('A regra de cashback já existe') %>
        <span class='text-danger'><%= @cashback_rule.errors[:cashback_percentage].join(', ') %></span>
      <% end %>
    </div>
    <div class='form-group'>
      <%= f.label :days_to_use %>
      <%= f.number_field :days_to_use, class: 'form-control' %>
      <% if @cashback_rule.errors[:days_to_use].present? %>
        <span class='text-danger'><%= @cashback_rule.errors[:days_to_use].join(', ') %></span>
      <% end %>
    </div>
      <%= f.submit 'Criar regra', class: 'btn btn-primary mt-1' %>
  <% end %>
</section>
